{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'Forgotpassword',\n  data() {\n    return {\n      email: '',\n      password: '',\n      emailEntered: false,\n      passwordEntered: false,\n      passwordResetSuccessful: false,\n      error: ''\n    };\n  },\n  methods: {\n    checkEmail() {\n      axios.post('http://localhost:8080/check-email', {\n        email: this.email\n      }).then(response => {\n        if (response.data.emailExists) {\n          this.emailEntered = true;\n        } else {\n          this.error = 'Email not found. Please enter another email.';\n          this.email = ''; // Clear the email field\n        }\n      }).catch(error => {\n        console.error('Error checking email:', error);\n        this.error = 'An error occurred while checking email';\n      });\n    },\n    resetPassword() {\n      if (!this.emailEntered) {\n        this.error = 'Please enter a valid email first.';\n        return;\n      }\n      axios.post('http://localhost:8080/forgot-password', {\n        email: this.email,\n        password: this.password\n      }).then(response => {\n        this.passwordResetSuccessful = true;\n        // Clear the email and password fields\n        this.email = '';\n        this.password = '';\n        this.emailEntered = false; // Reset emailEntered status\n      }).catch(error => {\n        console.error('Error resetting password:', error);\n        this.error = 'An error occurred while resetting the password';\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","email","password","emailEntered","passwordEntered","passwordResetSuccessful","error","methods","checkEmail","post","then","response","emailExists","catch","console","resetPassword"],"sources":["D:\\CRUD\\src\\components\\pages\\Forgotpassword.vue"],"sourcesContent":["<template>\r\n  <div class=\"card forgot-password-card\">\r\n    <div class=\"card-body\">\r\n      <div v-if=\"!emailEntered\" class=\"form-container\">\r\n        <label for=\"email\">Enter your email:</label>\r\n        <input type=\"email\" id=\"email\" v-model=\"email\" />\r\n        <button @click=\"checkEmail\" class=\"btn btn-primary\">Submit</button>\r\n      </div>\r\n\r\n      <div v-if=\"emailEntered && !passwordEntered\" class=\"form-container\">\r\n        <label for=\"password\">Enter your new password:</label>\r\n        <input type=\"password\" id=\"password\" v-model=\"password\" />\r\n        <button @click=\"resetPassword\" class=\"btn btn-primary\">Reset Password</button>\r\n      </div>\r\n\r\n      <div v-if=\"passwordResetSuccessful\" class=\"success-message\">\r\n        <p>Password reset successful!</p>\r\n      </div>\r\n\r\n      <div v-if=\"error\" class=\"error-message\">\r\n        <p>{{ error }}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'Forgotpassword',\r\n  data() {\r\n    return {\r\n      email: '',\r\n      password: '',\r\n      emailEntered: false,\r\n      passwordEntered: false,\r\n      passwordResetSuccessful: false,\r\n      error: ''\r\n    };\r\n  },\r\n  methods: {\r\n    checkEmail() {\r\n      axios\r\n        .post('http://localhost:8080/check-email', { email: this.email })\r\n        .then(response => {\r\n          if (response.data.emailExists) {\r\n            this.emailEntered = true;\r\n          } else {\r\n            this.error = 'Email not found. Please enter another email.';\r\n            this.email = ''; // Clear the email field\r\n          }\r\n        })\r\n        .catch(error => {\r\n          console.error('Error checking email:', error);\r\n          this.error = 'An error occurred while checking email';\r\n        });\r\n    },\r\n    resetPassword() {\r\n      if (!this.emailEntered) {\r\n        this.error = 'Please enter a valid email first.';\r\n        return;\r\n      }\r\n\r\n      axios\r\n        .post('http://localhost:8080/forgot-password', { email: this.email, password: this.password })\r\n        .then(response => {\r\n          this.passwordResetSuccessful = true;\r\n          // Clear the email and password fields\r\n          this.email = '';\r\n          this.password = '';\r\n          this.emailEntered = false; // Reset emailEntered status\r\n        })\r\n        .catch(error => {\r\n          console.error('Error resetting password:', error);\r\n          this.error = 'An error occurred while resetting the password';\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n  \r\n<style scoped>\r\n.forgot-password-card {\r\n  max-width: 400px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.form-container {\r\n  margin-bottom: 20px;\r\n}\r\n\r\nlabel {\r\n  display: block;\r\n  margin-bottom: 8px;\r\n}\r\n\r\ninput {\r\n  width: 100%;\r\n  padding: 8px;\r\n  margin-bottom: 16px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.btn-primary {\r\n  background-color: #007bff;\r\n  color: #fff;\r\n}\r\n\r\n.btn-primary:hover {\r\n  background-color: #0056b3;\r\n}\r\n\r\n.success-message {\r\n  color: #4caf50;\r\n}\r\n\r\n.error-message {\r\n  color: #d9534f;\r\n}\r\n</style>\r\n  "],"mappings":"AA2BA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,gBAAgB;EACtBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,YAAY,EAAE,KAAK;MACnBC,eAAe,EAAE,KAAK;MACtBC,uBAAuB,EAAE,KAAK;MAC9BC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,UAAUA,CAAA,EAAG;MACXV,KAAI,CACDW,IAAI,CAAC,mCAAmC,EAAE;QAAER,KAAK,EAAE,IAAI,CAACA;MAAM,CAAC,EAC/DS,IAAI,CAACC,QAAO,IAAK;QAChB,IAAIA,QAAQ,CAACX,IAAI,CAACY,WAAW,EAAE;UAC7B,IAAI,CAACT,YAAW,GAAI,IAAI;QAC1B,OAAO;UACL,IAAI,CAACG,KAAI,GAAI,8CAA8C;UAC3D,IAAI,CAACL,KAAI,GAAI,EAAE,EAAE;QACnB;MACF,CAAC,EACAY,KAAK,CAACP,KAAI,IAAK;QACdQ,OAAO,CAACR,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;QAC7C,IAAI,CAACA,KAAI,GAAI,wCAAwC;MACvD,CAAC,CAAC;IACN,CAAC;IACDS,aAAaA,CAAA,EAAG;MACd,IAAI,CAAC,IAAI,CAACZ,YAAY,EAAE;QACtB,IAAI,CAACG,KAAI,GAAI,mCAAmC;QAChD;MACF;MAEAR,KAAI,CACDW,IAAI,CAAC,uCAAuC,EAAE;QAAER,KAAK,EAAE,IAAI,CAACA,KAAK;QAAEC,QAAQ,EAAE,IAAI,CAACA;MAAS,CAAC,EAC5FQ,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACN,uBAAsB,GAAI,IAAI;QACnC;QACA,IAAI,CAACJ,KAAI,GAAI,EAAE;QACf,IAAI,CAACC,QAAO,GAAI,EAAE;QAClB,IAAI,CAACC,YAAW,GAAI,KAAK,EAAE;MAC7B,CAAC,EACAU,KAAK,CAACP,KAAI,IAAK;QACdQ,OAAO,CAACR,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;QACjD,IAAI,CAACA,KAAI,GAAI,gDAAgD;MAC/D,CAAC,CAAC;IACN;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}